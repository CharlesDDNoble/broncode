<!--To be put in a form-->
{% block codemirror %}
    {% load static %}
    <!--Codemirror general stylesheet-->
    <link rel="stylesheet" type="text/css" href="{% static 'poc/codemirror/lib/codemirror.css' %}">
    <!--Codemirror hint system stylesheet-->
    <link rel="stylesheet" type="text/css" href="{% static 'poc/codemirror/addon/hint/show-hint.css' %}">
    <!--Codemirror theme stylesheet-->
    <link rel="stylesheet" type="text/css" href="{% static 'poc/codemirror/theme/base16-dark.css' %}">
    <!--Codemirror general style stylesheet-->
    <link rel="stylesheet" type="text/css" href="{% static 'poc/css/component-codemirror.css' %}">

    <!--Codemirror deps-->
    <script src="{% static 'poc/codemirror/lib/codemirror.js' %}"></script>
    <script src="{% static 'poc/codemirror/addon/edit/matchbrackets.js' %}"></script>
    <script src="{% static 'poc/codemirror/addon/hint/show-hint.js' %}"></script>

    <!-- imports script for C-like languages. Must be swapped out for other languages -->
    <script src="{% static 'poc/codemirror/mode/clike/clike.js' %}"></script>
    <script src="{% static 'poc/codemirror/mode/python/python.js' %}"></script>
    <script src="{% static 'poc/codemirror/mode/r/r.js' %}"></script>
    
    <label>Coding Area
        <textarea id="codemirror" name="codearea">{{ lesson_code }}</textarea>
    </label>
    <script>
        var cEditor = CodeMirror.fromTextArea(document.getElementById("codemirror"), {
            lineNumbers: true,
            matchBrackets: true,
            mode: {name: "{{ codemirror_lang_name }}" {{ codemirror_lang_args }} },//must be changed for editing other languages
            theme: 'base16-dark'
        });
        cEditor.setSize('100%', '67vh');
        var mac = CodeMirror.keyMap.default == CodeMirror.keyMap.macDefault;
        CodeMirror.keyMap.default[(mac ? "Cmd" : "Ctrl") + "-Space"] = "autocomplete";
    </script>

{% endblock %}